!function(e){var t=function(){function e(e,t){function n(e,t){return p.getComputedStyle||(p.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),p.getComputedStyle(e,null).getPropertyValue(t)}function i(t){var n=t||e.clientHeight,i=a(e);return Math.max(Math.floor(n/i),0)}function l(t){var n=a(e);return n*t}function a(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"))),parseInt(t)}function r(t){return t.lastChild.children&&t.lastChild.children.length>0?r(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!==t.lastChild.nodeValue&&t.lastChild.nodeValue!=s.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),r(e))}function u(t,n){function i(){y=s.splitOnChars.slice(0),H=y[0],g=null,v=null}if(n){var l=t.nodeValue.replace(s.truncationChar,"");if(g||(H=y.length>0?y.shift():"",g=l.split(H)),g.length>1?(v=g.pop(),o(t,g.join(H))):g=null,c&&(t.nodeValue=t.nodeValue.replace(s.truncationChar,""),e.innerHTML=t.nodeValue+" "+c.innerHTML+s.truncationChar),g){if(e.clientHeight<=n){if(!(y.length>=0&&""!==H))return e.innerHTML;o(t,g.join(H)+H+v),g=null}}else""===H&&(o(t,""),t=r(e),i());return s.animate?void setTimeout(function(){u(t,n)},s.animate===!0?10:s.animate):u(t,n)}}function o(e,t){e.nodeValue=t+s.truncationChar}t=t||{};var c,p=window,s={clamp:t.clamp||2,useNativeClamp:"undefined"!=typeof t.useNativeClamp?t.useNativeClamp:!0,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},d=e.style,h=e.innerHTML,f="undefined"!=typeof e.style.webkitLineClamp,m=s.clamp,C=m.indexOf&&(m.indexOf("px")>-1||m.indexOf("em")>-1);s.truncationHTML&&(c=document.createElement("span"),c.innerHTML=s.truncationHTML);var g,v,y=s.splitOnChars.slice(0),H=y[0];"auto"==m?m=i():C&&(m=i(parseInt(m)));var x;if(f&&s.useNativeClamp)d.overflow="hidden",d.textOverflow="ellipsis",d.webkitBoxOrient="vertical",d.display="-webkit-box",d.webkitLineClamp=m,C&&(d.height=s.clamp+"px");else{var L=l(m);L<=e.clientHeight&&(x=u(r(e),L))}return{original:h,clamped:x}}return e},n=function(e,t){function n(n){function i(i,l,r){n(function(){t(l[0],e.copy(a,r.config))})}var l={restrict:"A",link:i},a={clamp:3};return l}e.module("ng-clamp",[]).directive("clamp",n),n.$inject=["$timeout"]};"undefined"!=typeof module&&module.exports?module.exports=n(require("angular"),t()):n(e,t())}(angular);
